
---
apiVersion: apiextensions.k8s.io/v1
kind: CustomResourceDefinition
metadata:
  annotations:
    controller-gen.kubebuilder.io/version: v0.4.1
  creationTimestamp: null
  name: portalapicatalogues.tyk.tyk.io
spec:
  group: tyk.tyk.io
  names:
    kind: PortalAPICatalogue
    listKind: PortalAPICatalogueList
    plural: portalapicatalogues
    shortNames:
    - tykcatalogues
    singular: portalapicatalogue
  scope: Namespaced
  versions:
  - additionalPrinterColumns:
    - jsonPath: .status.id
      name: ID
      type: string
    name: v1alpha1
    schema:
      openAPIV3Schema:
        description: PortalAPICatalogue is the Schema for the portalapicatalogues
          API
        properties:
          apiVersion:
            description: 'APIVersion defines the versioned schema of this representation
              of an object. Servers should convert recognized schemas to the latest
              internal value, and may reject unrecognized values. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#resources'
            type: string
          kind:
            description: 'Kind is a string value representing the REST resource this
              object represents. Servers may infer this from the endpoint the client
              submits requests to. Cannot be updated. In CamelCase. More info: https://git.k8s.io/community/contributors/devel/sig-architecture/api-conventions.md#types-kinds'
            type: string
          metadata:
            type: object
          spec:
            description: PortalAPICatalogueSpec defines the desired state of PortalAPICatalogue
            properties:
              apis:
                items:
                  properties:
                    apiDescriptionRef:
                      properties:
                        name:
                          type: string
                        namespace:
                          type: string
                      required:
                      - name
                      - namespace
                      type: object
                    auth_type:
                      description: AuthType displays as a badge next to the name of
                        the API
                      enum:
                      - keyless
                      - jwt
                      - oauth
                      - authToken
                      type: string
                    config:
                      description: 'Config allows you to optionally override various
                        fields in the PortalConfig. TODO: This is an advanced capability
                        which has not been fully tested with Tyk Operator as yet.'
                      properties:
                        catalogue_login_only:
                          type: boolean
                        dcr_options:
                          description: DCROptions are the configuration metadata for
                            dynamic client registration. To enable DCR, ensure EnableDCR
                            is true.
                          properties:
                            access_token:
                              description: AccessToken represents an optional bearer
                                token to authenticate with against the registration
                                endpoint
                              type: string
                            grant_types:
                              description: GrantTypes is an array of OAuth 2.0 grant
                                type strings that the client can use at the token
                                endpoint.
                              items:
                                enum:
                                - client_credentials
                                - authorization_code
                                - refresh_token
                                type: string
                              type: array
                            idp_host:
                              description: IDPHost is the fully qualified hostname
                                of the Identity Provider. e.g. https://mysubdomain.eu.auth0.com
                              type: string
                            provider:
                              description: Provider is an optional enum of the provider
                                which allows Tyk to register clients outside the standard
                                DCR spec and perform provider specific logic. If your
                                provider is not in this list, please omit. Upon failure,
                                submit a support ticket so that we may extend support
                                for your provider.
                              enum:
                              - gluu
                              - keycloak
                              - okta
                              type: string
                            registration_endpoint:
                              description: RegistrationEndpoint is the registration_endpoint
                                as presented in the /.well-known/openid-configuration
                                document.
                              type: string
                            response_types:
                              description: ResponseTypes is an array of OAuth 2.0
                                response type strings that the client can use at the
                                authorization endpoint.
                              items:
                                enum:
                                - code
                                - token
                                type: string
                              type: array
                            token_endpoint_auth_method:
                              description: 'TokenEndpointAuthMethod is an indicator
                                of the requested authentication method for the token
                                endpoint. "none": The client is a public client and
                                does not have a client secret. "client_secret_post":
                                The client uses the HTTP POST parameters "client_secret_basic":
                                The client uses HTTP Basic authentication'
                              enum:
                              - client_secret_basic
                              - client_secret_post
                              - client_secret_jwt
                              - private_key_jwt
                              - none
                              type: string
                          required:
                          - grant_types
                          - idp_host
                          - registration_endpoint
                          - token_endpoint_auth_method
                          type: object
                        disable_auto_login:
                          type: boolean
                        disable_login:
                          type: boolean
                        disable_signup:
                          type: boolean
                        email:
                          type: string
                        enable_dcr:
                          type: boolean
                        enable_multi_selection:
                          type: boolean
                        id:
                          type: string
                        key_request_fields:
                          items:
                            type: string
                          type: array
                        mail_options:
                          properties:
                            email_copy:
                              properties:
                                key_email:
                                  properties:
                                    body:
                                      type: string
                                    enabled:
                                      type: boolean
                                    hide_token_data:
                                      type: boolean
                                    sign_off:
                                      type: string
                                    subject:
                                      type: string
                                  required:
                                  - body
                                  - enabled
                                  - hide_token_data
                                  - sign_off
                                  - subject
                                  type: object
                                reset_password_email:
                                  properties:
                                    body:
                                      type: string
                                    enabled:
                                      type: boolean
                                    hide_token_data:
                                      type: boolean
                                    sign_off:
                                      type: string
                                    subject:
                                      type: string
                                  required:
                                  - body
                                  - enabled
                                  - hide_token_data
                                  - sign_off
                                  - subject
                                  type: object
                                welcome_email:
                                  properties:
                                    body:
                                      type: string
                                    enabled:
                                      type: boolean
                                    hide_token_data:
                                      type: boolean
                                    sign_off:
                                      type: string
                                    subject:
                                      type: string
                                  required:
                                  - body
                                  - enabled
                                  - hide_token_data
                                  - sign_off
                                  - subject
                                  type: object
                              required:
                              - key_email
                              - reset_password_email
                              - welcome_email
                              type: object
                            mail_from_email:
                              type: string
                            mail_from_name:
                              type: string
                          required:
                          - email_copy
                          - mail_from_email
                          - mail_from_name
                          type: object
                        oauth_usage_limit:
                          type: integer
                        org_id:
                          type: string
                        override:
                          type: boolean
                        redirect_on_key_request:
                          type: boolean
                        redirect_to:
                          type: string
                        require_key_approval:
                          type: boolean
                        secure_key_approval:
                          type: boolean
                        signup_fields:
                          items:
                            type: string
                          type: array
                      type: object
                    docs:
                      properties:
                        doc_type:
                          enum:
                          - swagger
                          - swagger_custom_url
                          - graphql
                          type: string
                        documentation:
                          type: string
                      required:
                      - doc_type
                      type: object
                    documentation:
                      description: Do not set Documentation. Use `docs` instead.
                      type: string
                    fields:
                      additionalProperties:
                        type: string
                      description: Fields is a generic map of key:value pairs. You
                        may wish to use this to tag a catalogue as type:internal or
                        type:public Then apply logic at the template layer to dynamically
                        display catalogue apis to different user types.
                      type: object
                    is_keyless:
                      description: IsKeyless toggles visibility of the `Request an
                        API Key button`. Use this when AuthType is keyless, jwt or
                        oauth.
                      type: boolean
                    long_description:
                      description: LongDescription can be markdown. It allows you
                        to describe the capabilities of the API and is displayed just
                        below the name and AuthType in the catalogue listing page.
                      type: string
                    name:
                      description: Name is the title of the API that you wish to be
                        published to the catalogue
                      type: string
                    policy_id:
                      description: PolicyID explicitly sets the policy_id to be published.
                        We do not recommend that this value is set directly. Rather,
                        use `policyRef` instead.
                      type: string
                    policyRef:
                      properties:
                        name:
                          type: string
                        namespace:
                          type: string
                      required:
                      - name
                      - namespace
                      type: object
                    short_description:
                      description: 'TODO: I don''t think this is exposed to the default
                        portal templates.'
                      type: string
                    show:
                      description: Show toggles visibility of the API in the portal
                        catalogue
                      type: boolean
                    version:
                      default: v2
                      description: Version should always be v2
                      enum:
                      - v2
                      type: string
                  type: object
                type: array
              contextRef:
                properties:
                  name:
                    type: string
                  namespace:
                    type: string
                required:
                - name
                - namespace
                type: object
              email:
                type: string
              org_id:
                type: string
            type: object
          status:
            description: PortalAPICatalogueStatus defines the observed state of PortalAPICatalogue
            properties:
              id:
                type: string
            type: object
        type: object
    served: true
    storage: true
    subresources:
      status: {}
status:
  acceptedNames:
    kind: ""
    plural: ""
  conditions: []
  storedVersions: []
